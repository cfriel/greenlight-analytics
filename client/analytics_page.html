<template name="analytics_page">
  <div>
  <div class="col-lg-3">
    <ul id="left-navbar" class="nav nav-tabs nav-stacked">
      {{#each datasets}}
      <li>
	<a href="/analytics/{{name}}">{{name}}</a>
      </li>
      {{/each}}
    </ul>
  </div>

  <div class="col-lg-9">
    <div id="query">    <form>
        <textarea id="code" name="code">
var chart = d3.select("#visualization-container").append("svg")
     .data(Local)
     .attr("class", "chart")
     .attr("width", 420)
     .attr("height", 20 * Local.length); 

var x = d3.scale.linear();
 
chart.selectAll("rect")
     .data(function(d,i){ return d.funding_total_usd; } )
     .enter().append("rect")
     .attr("y", function(d, i) { return i * 20; })
	 .attr("width", function(d,i) { return i*20;})
     .attr("height", 20);
	</textarea>
      </form>
    </div>

    <div class="tabbable"> <!-- Only required for left/right tabs -->
      <ul class="nav nav-tabs" style="margin-bottom: 0px;">
	<li class="active"><a href="#tab1" data-toggle="tab">Results</a></li>
	<li><a href="#tab2" data-toggle="tab">Visualization</a></li>
      </ul>
      <div class="tab-content tab-borders">
	<div class="tab-pane active" id="tab1">
	  <div id="analytics-container" > 
	  </div>
	</div>
	<div class="tab-pane" id="tab2">
	  <div id="visualization-container">
	  </div>
	</div>
      </div>
    </div>
  </div>
  </div>
</template>
